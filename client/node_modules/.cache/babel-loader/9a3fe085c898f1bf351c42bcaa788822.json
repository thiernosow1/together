{"ast":null,"code":"import React from \"react\";\n\nfunction Slider() {\n  console.log(\"Toto\");\n  slide();\n\n  function slide() {\n    var slider = document.getElementById('slider'),\n        sliderItems = document.getElementById('items'),\n        prev = document.getElementById('prev'),\n        next = document.getElementById('next');\n    var posX1 = 0,\n        posX2 = 0,\n        posInitial,\n        posFinal,\n        threshold = 80;\n    console.log(items);\n    var slides = items.getElementsByClassName('slide'),\n        slidesLength = slides.length,\n        slideSize = items.getElementsByClassName('slide')[0].offsetWidth,\n        firstSlide = slides[0],\n        lastSlide = slides[slidesLength - 1],\n        cloneFirst = firstSlide.cloneNode(true),\n        cloneLast = lastSlide.cloneNode(true),\n        index = 0,\n        allowShift = true; // Clone first and last slide\n\n    items.appendChild(cloneFirst);\n    items.insertBefore(cloneLast, firstSlide);\n    wrapper.classList.add('loaded'); // Mouse and Touch events\n\n    items.onmousedown = dragStart; // Touch events\n\n    items.addEventListener('touchstart', dragStart);\n    items.addEventListener('touchend', dragEnd);\n    items.addEventListener('touchmove', dragAction); // Click events\n\n    prev.addEventListener('click', function () {\n      shiftSlide(-1);\n    });\n    next.addEventListener('click', function () {\n      shiftSlide(1);\n    }); // Transition events\n\n    items.addEventListener('transitionend', checkIndex);\n\n    function dragStart(e) {\n      e = e || window.event;\n      e.preventDefault();\n      posInitial = items.offsetLeft;\n\n      if (e.type == 'touchstart') {\n        posX1 = e.touches[0].clientX;\n      } else {\n        posX1 = e.clientX;\n        document.onmouseup = dragEnd;\n        document.onmousemove = dragAction;\n      }\n    }\n\n    function dragAction(e) {\n      e = e || window.event;\n\n      if (e.type == 'touchmove') {\n        posX2 = posX1 - e.touches[0].clientX;\n        posX1 = e.touches[0].clientX;\n      } else {\n        posX2 = posX1 - e.clientX;\n        posX1 = e.clientX;\n      }\n\n      items.style.left = items.offsetLeft - posX2 + \"px\";\n    }\n\n    function dragEnd(e) {\n      posFinal = items.offsetLeft;\n\n      if (posFinal - posInitial < -threshold) {\n        shiftSlide(1, 'drag');\n      } else if (posFinal - posInitial > threshold) {\n        shiftSlide(-1, 'drag');\n      } else {\n        items.style.left = posInitial + \"px\";\n      }\n\n      document.onmouseup = null;\n      document.onmousemove = null;\n    }\n\n    function shiftSlide(dir, action) {\n      items.classList.add('shifting');\n\n      if (allowShift) {\n        if (!action) {\n          posInitial = items.offsetLeft;\n        }\n\n        if (dir == 1) {\n          items.style.left = posInitial - slideSize + \"px\";\n          index++;\n        } else if (dir == -1) {\n          items.style.left = posInitial + slideSize + \"px\";\n          index--;\n        }\n      }\n\n      ;\n      allowShift = false;\n    }\n\n    function checkIndex() {\n      items.classList.remove('shifting');\n\n      if (index == -1) {\n        items.style.left = -(slidesLength * slideSize) + \"px\";\n        index = slidesLength - 1;\n      }\n\n      if (index == slidesLength) {\n        items.style.left = -(1 * slideSize) + \"px\";\n        index = 0;\n      }\n\n      allowShift = true;\n    }\n  }\n}\n\nexport default Slider;","map":{"version":3,"sources":["/Applications/MAMP/htdocs/together/together/client/src/assets/js/carousel.js"],"names":["React","Slider","console","log","slide","slider","document","getElementById","sliderItems","prev","next","posX1","posX2","posInitial","posFinal","threshold","items","slides","getElementsByClassName","slidesLength","length","slideSize","offsetWidth","firstSlide","lastSlide","cloneFirst","cloneNode","cloneLast","index","allowShift","appendChild","insertBefore","wrapper","classList","add","onmousedown","dragStart","addEventListener","dragEnd","dragAction","shiftSlide","checkIndex","e","window","event","preventDefault","offsetLeft","type","touches","clientX","onmouseup","onmousemove","style","left","dir","action","remove"],"mappings":"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","sourcesContent":["import React from \"react\";\n\nfunction Slider() {\n\n    console.log(\"Toto\");\n\n    \n    slide();\n\n    function slide() {\n\n        var slider = document.getElementById('slider'),\n        sliderItems = document.getElementById('items'),\n        prev = document.getElementById('prev'),\n        next = document.getElementById('next');\n\n        var posX1 = 0,\n            posX2 = 0,\n            posInitial,\n            posFinal,\n            threshold = 80;\n            console.log(items);\n        var slides = items.getElementsByClassName('slide'),\n            slidesLength = slides.length,\n            slideSize = items.getElementsByClassName('slide')[0].offsetWidth,\n            firstSlide = slides[0],\n            lastSlide = slides[slidesLength - 1],\n            cloneFirst = firstSlide.cloneNode(true),\n            cloneLast = lastSlide.cloneNode(true),\n            index = 0,\n            allowShift = true;\n\n        // Clone first and last slide\n        items.appendChild(cloneFirst);\n        items.insertBefore(cloneLast, firstSlide);\n        wrapper.classList.add('loaded');\n\n        // Mouse and Touch events\n        items.onmousedown = dragStart;\n\n        // Touch events\n        items.addEventListener('touchstart', dragStart);\n        items.addEventListener('touchend', dragEnd);\n        items.addEventListener('touchmove', dragAction);\n\n        // Click events\n        prev.addEventListener('click', function () {\n            shiftSlide(-1)\n        });\n        next.addEventListener('click', function () {\n            shiftSlide(1)\n        });\n\n        // Transition events\n        items.addEventListener('transitionend', checkIndex);\n\n        function dragStart(e) {\n            e = e || window.event;\n            e.preventDefault();\n            posInitial = items.offsetLeft;\n\n            if (e.type == 'touchstart') {\n                posX1 = e.touches[0].clientX;\n            } else {\n                posX1 = e.clientX;\n                document.onmouseup = dragEnd;\n                document.onmousemove = dragAction;\n            }\n        }\n\n        function dragAction(e) {\n            e = e || window.event;\n\n            if (e.type == 'touchmove') {\n                posX2 = posX1 - e.touches[0].clientX;\n                posX1 = e.touches[0].clientX;\n            } else {\n                posX2 = posX1 - e.clientX;\n                posX1 = e.clientX;\n            }\n            items.style.left = (items.offsetLeft - posX2) + \"px\";\n        }\n\n        function dragEnd(e) {\n            posFinal = items.offsetLeft;\n            if (posFinal - posInitial < -threshold) {\n                shiftSlide(1, 'drag');\n            } else if (posFinal - posInitial > threshold) {\n                shiftSlide(-1, 'drag');\n            } else {\n                items.style.left = (posInitial) + \"px\";\n            }\n\n            document.onmouseup = null;\n            document.onmousemove = null;\n        }\n\n        function shiftSlide(dir, action) {\n            items.classList.add('shifting');\n\n            if (allowShift) {\n                if (!action) {\n                    posInitial = items.offsetLeft;\n                }\n\n                if (dir == 1) {\n                    items.style.left = (posInitial - slideSize) + \"px\";\n                    index++;\n                } else if (dir == -1) {\n                    items.style.left = (posInitial + slideSize) + \"px\";\n                    index--;\n                }\n            };\n\n            allowShift = false;\n        }\n\n        function checkIndex() {\n            items.classList.remove('shifting');\n\n            if (index == -1) {\n                items.style.left = -(slidesLength * slideSize) + \"px\";\n                index = slidesLength - 1;\n            }\n\n            if (index == slidesLength) {\n                items.style.left = -(1 * slideSize) + \"px\";\n                index = 0;\n            }\n\n            allowShift = true;\n        }\n    }\n\n\n\n}\n\n\nexport default Slider;\n"]},"metadata":{},"sourceType":"module"}