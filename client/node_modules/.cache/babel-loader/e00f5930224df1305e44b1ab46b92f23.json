{"ast":null,"code":"var wrapper = document.getElementById('slider'),\n    items = document.getElementById('items'),\n    prev = document.getElementById('prev'),\n    next = document.getElementById('next');\nconsole.log(document);\nconsole.log(items);\nvar posX1 = 0,\n    posX2 = 0,\n    posInitial,\n    posFinal,\n    threshold = 80;\nconsole.log(items);\nvar slides = items.getElementsByClassName('slide'),\n    slidesLength = slides.length,\n    slideSize = items.getElementsByClassName('slide')[0].offsetWidth,\n    firstSlide = slides[0],\n    lastSlide = slides[slidesLength - 1],\n    cloneFirst = firstSlide.cloneNode(true),\n    cloneLast = lastSlide.cloneNode(true),\n    index = 0,\n    allowShift = true; // Clone first and last slide\n\nitems.appendChild(cloneFirst);\nitems.insertBefore(cloneLast, firstSlide);\nwrapper.classList.add('loaded'); // Mouse and Touch events\n\nitems.onmousedown = dragStart; // Touch events\n\nitems.addEventListener('touchstart', dragStart);\nitems.addEventListener('touchend', dragEnd);\nitems.addEventListener('touchmove', dragAction); // Click events\n\nprev.addEventListener('click', function () {\n  shiftSlide(-1);\n});\nnext.addEventListener('click', function () {\n  shiftSlide(1);\n}); // Transition events\n\nitems.addEventListener('transitionend', checkIndex);\n\nfunction dragStart(e) {\n  e = e || window.event;\n  e.preventDefault();\n  posInitial = items.offsetLeft;\n\n  if (e.type == 'touchstart') {\n    posX1 = e.touches[0].clientX;\n  } else {\n    posX1 = e.clientX;\n    document.onmouseup = dragEnd;\n    document.onmousemove = dragAction;\n  }\n}\n\nfunction dragAction(e) {\n  e = e || window.event;\n\n  if (e.type == 'touchmove') {\n    posX2 = posX1 - e.touches[0].clientX;\n    posX1 = e.touches[0].clientX;\n  } else {\n    posX2 = posX1 - e.clientX;\n    posX1 = e.clientX;\n  }\n\n  items.style.left = items.offsetLeft - posX2 + \"px\";\n}\n\nfunction dragEnd(e) {\n  posFinal = items.offsetLeft;\n\n  if (posFinal - posInitial < -threshold) {\n    shiftSlide(1, 'drag');\n  } else if (posFinal - posInitial > threshold) {\n    shiftSlide(-1, 'drag');\n  } else {\n    items.style.left = posInitial + \"px\";\n  }\n\n  document.onmouseup = null;\n  document.onmousemove = null;\n}\n\nfunction shiftSlide(dir, action) {\n  items.classList.add('shifting');\n\n  if (allowShift) {\n    if (!action) {\n      posInitial = items.offsetLeft;\n    }\n\n    if (dir == 1) {\n      items.style.left = posInitial - slideSize + \"px\";\n      index++;\n    } else if (dir == -1) {\n      items.style.left = posInitial + slideSize + \"px\";\n      index--;\n    }\n  }\n\n  ;\n  allowShift = false;\n}\n\nfunction checkIndex() {\n  items.classList.remove('shifting');\n\n  if (index == -1) {\n    items.style.left = -(slidesLength * slideSize) + \"px\";\n    index = slidesLength - 1;\n  }\n\n  if (index == slidesLength) {\n    items.style.left = -(1 * slideSize) + \"px\";\n    index = 0;\n  }\n\n  allowShift = true;\n}","map":{"version":3,"sources":["/Applications/MAMP/htdocs/together/together/client/src/assets/js/carousel.js"],"names":["wrapper","document","getElementById","items","prev","next","console","log","posX1","posX2","posInitial","posFinal","threshold","slides","getElementsByClassName","slidesLength","length","slideSize","offsetWidth","firstSlide","lastSlide","cloneFirst","cloneNode","cloneLast","index","allowShift","appendChild","insertBefore","classList","add","onmousedown","dragStart","addEventListener","dragEnd","dragAction","shiftSlide","checkIndex","e","window","event","preventDefault","offsetLeft","type","touches","clientX","onmouseup","onmousemove","style","left","dir","action","remove"],"mappings":"AAAA,IAAIA,OAAO,GAAGC,QAAQ,CAACC,cAAT,CAAwB,QAAxB,CAAd;AAAA,IACIC,KAAK,GAAGF,QAAQ,CAACC,cAAT,CAAwB,OAAxB,CADZ;AAAA,IAEIE,IAAI,GAAGH,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAFX;AAAA,IAGIG,IAAI,GAAGJ,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAHX;AAKII,OAAO,CAACC,GAAR,CAAYN,QAAZ;AACAK,OAAO,CAACC,GAAR,CAAYJ,KAAZ;AAEJ,IAAIK,KAAK,GAAG,CAAZ;AAAA,IACIC,KAAK,GAAG,CADZ;AAAA,IAEIC,UAFJ;AAAA,IAGIC,QAHJ;AAAA,IAIIC,SAAS,GAAG,EAJhB;AAKAN,OAAO,CAACC,GAAR,CAAYJ,KAAZ;AACA,IAAIU,MAAM,GAAGV,KAAK,CAACW,sBAAN,CAA6B,OAA7B,CAAb;AAAA,IACIC,YAAY,GAAGF,MAAM,CAACG,MAD1B;AAAA,IAEIC,SAAS,GAAGd,KAAK,CAACW,sBAAN,CAA6B,OAA7B,EAAsC,CAAtC,EAAyCI,WAFzD;AAAA,IAGIC,UAAU,GAAGN,MAAM,CAAC,CAAD,CAHvB;AAAA,IAIIO,SAAS,GAAGP,MAAM,CAACE,YAAY,GAAG,CAAhB,CAJtB;AAAA,IAKIM,UAAU,GAAGF,UAAU,CAACG,SAAX,CAAqB,IAArB,CALjB;AAAA,IAMIC,SAAS,GAAGH,SAAS,CAACE,SAAV,CAAoB,IAApB,CANhB;AAAA,IAOIE,KAAK,GAAG,CAPZ;AAAA,IAQIC,UAAU,GAAG,IARjB,C,CAUA;;AACAtB,KAAK,CAACuB,WAAN,CAAkBL,UAAlB;AACAlB,KAAK,CAACwB,YAAN,CAAmBJ,SAAnB,EAA8BJ,UAA9B;AACAnB,OAAO,CAAC4B,SAAR,CAAkBC,GAAlB,CAAsB,QAAtB,E,CAEA;;AACA1B,KAAK,CAAC2B,WAAN,GAAoBC,SAApB,C,CAEA;;AACA5B,KAAK,CAAC6B,gBAAN,CAAuB,YAAvB,EAAqCD,SAArC;AACA5B,KAAK,CAAC6B,gBAAN,CAAuB,UAAvB,EAAmCC,OAAnC;AACA9B,KAAK,CAAC6B,gBAAN,CAAuB,WAAvB,EAAoCE,UAApC,E,CAEA;;AACA9B,IAAI,CAAC4B,gBAAL,CAAsB,OAAtB,EAA+B,YAAY;AACvCG,EAAAA,UAAU,CAAC,CAAC,CAAF,CAAV;AACH,CAFD;AAGA9B,IAAI,CAAC2B,gBAAL,CAAsB,OAAtB,EAA+B,YAAY;AACvCG,EAAAA,UAAU,CAAC,CAAD,CAAV;AACH,CAFD,E,CAIA;;AACAhC,KAAK,CAAC6B,gBAAN,CAAuB,eAAvB,EAAwCI,UAAxC;;AAEA,SAASL,SAAT,CAAmBM,CAAnB,EAAsB;AAClBA,EAAAA,CAAC,GAAGA,CAAC,IAAIC,MAAM,CAACC,KAAhB;AACAF,EAAAA,CAAC,CAACG,cAAF;AACA9B,EAAAA,UAAU,GAAGP,KAAK,CAACsC,UAAnB;;AAEA,MAAIJ,CAAC,CAACK,IAAF,IAAU,YAAd,EAA4B;AACxBlC,IAAAA,KAAK,GAAG6B,CAAC,CAACM,OAAF,CAAU,CAAV,EAAaC,OAArB;AACH,GAFD,MAEO;AACHpC,IAAAA,KAAK,GAAG6B,CAAC,CAACO,OAAV;AACA3C,IAAAA,QAAQ,CAAC4C,SAAT,GAAqBZ,OAArB;AACAhC,IAAAA,QAAQ,CAAC6C,WAAT,GAAuBZ,UAAvB;AACH;AACJ;;AAED,SAASA,UAAT,CAAoBG,CAApB,EAAuB;AACnBA,EAAAA,CAAC,GAAGA,CAAC,IAAIC,MAAM,CAACC,KAAhB;;AAEA,MAAIF,CAAC,CAACK,IAAF,IAAU,WAAd,EAA2B;AACvBjC,IAAAA,KAAK,GAAGD,KAAK,GAAG6B,CAAC,CAACM,OAAF,CAAU,CAAV,EAAaC,OAA7B;AACApC,IAAAA,KAAK,GAAG6B,CAAC,CAACM,OAAF,CAAU,CAAV,EAAaC,OAArB;AACH,GAHD,MAGO;AACHnC,IAAAA,KAAK,GAAGD,KAAK,GAAG6B,CAAC,CAACO,OAAlB;AACApC,IAAAA,KAAK,GAAG6B,CAAC,CAACO,OAAV;AACH;;AACDzC,EAAAA,KAAK,CAAC4C,KAAN,CAAYC,IAAZ,GAAoB7C,KAAK,CAACsC,UAAN,GAAmBhC,KAApB,GAA6B,IAAhD;AACH;;AAED,SAASwB,OAAT,CAAiBI,CAAjB,EAAoB;AAChB1B,EAAAA,QAAQ,GAAGR,KAAK,CAACsC,UAAjB;;AACA,MAAI9B,QAAQ,GAAGD,UAAX,GAAwB,CAACE,SAA7B,EAAwC;AACpCuB,IAAAA,UAAU,CAAC,CAAD,EAAI,MAAJ,CAAV;AACH,GAFD,MAEO,IAAIxB,QAAQ,GAAGD,UAAX,GAAwBE,SAA5B,EAAuC;AAC1CuB,IAAAA,UAAU,CAAC,CAAC,CAAF,EAAK,MAAL,CAAV;AACH,GAFM,MAEA;AACHhC,IAAAA,KAAK,CAAC4C,KAAN,CAAYC,IAAZ,GAAoBtC,UAAD,GAAe,IAAlC;AACH;;AAEDT,EAAAA,QAAQ,CAAC4C,SAAT,GAAqB,IAArB;AACA5C,EAAAA,QAAQ,CAAC6C,WAAT,GAAuB,IAAvB;AACH;;AAED,SAASX,UAAT,CAAoBc,GAApB,EAAyBC,MAAzB,EAAiC;AAC7B/C,EAAAA,KAAK,CAACyB,SAAN,CAAgBC,GAAhB,CAAoB,UAApB;;AAEA,MAAIJ,UAAJ,EAAgB;AACZ,QAAI,CAACyB,MAAL,EAAa;AACTxC,MAAAA,UAAU,GAAGP,KAAK,CAACsC,UAAnB;AACH;;AAED,QAAIQ,GAAG,IAAI,CAAX,EAAc;AACV9C,MAAAA,KAAK,CAAC4C,KAAN,CAAYC,IAAZ,GAAoBtC,UAAU,GAAGO,SAAd,GAA2B,IAA9C;AACAO,MAAAA,KAAK;AACR,KAHD,MAGO,IAAIyB,GAAG,IAAI,CAAC,CAAZ,EAAe;AAClB9C,MAAAA,KAAK,CAAC4C,KAAN,CAAYC,IAAZ,GAAoBtC,UAAU,GAAGO,SAAd,GAA2B,IAA9C;AACAO,MAAAA,KAAK;AACR;AACJ;;AAAA;AAEDC,EAAAA,UAAU,GAAG,KAAb;AACH;;AAED,SAASW,UAAT,GAAsB;AAClBjC,EAAAA,KAAK,CAACyB,SAAN,CAAgBuB,MAAhB,CAAuB,UAAvB;;AAEA,MAAI3B,KAAK,IAAI,CAAC,CAAd,EAAiB;AACbrB,IAAAA,KAAK,CAAC4C,KAAN,CAAYC,IAAZ,GAAmB,EAAEjC,YAAY,GAAGE,SAAjB,IAA8B,IAAjD;AACAO,IAAAA,KAAK,GAAGT,YAAY,GAAG,CAAvB;AACH;;AAED,MAAIS,KAAK,IAAIT,YAAb,EAA2B;AACvBZ,IAAAA,KAAK,CAAC4C,KAAN,CAAYC,IAAZ,GAAmB,EAAE,IAAI/B,SAAN,IAAmB,IAAtC;AACAO,IAAAA,KAAK,GAAG,CAAR;AACH;;AAEDC,EAAAA,UAAU,GAAG,IAAb;AACH","sourcesContent":["var wrapper = document.getElementById('slider'),\n    items = document.getElementById('items'),\n    prev = document.getElementById('prev'),\n    next = document.getElementById('next');\n\n    console.log(document);\n    console.log(items);\n\nvar posX1 = 0,\n    posX2 = 0,\n    posInitial,\n    posFinal,\n    threshold = 80;\nconsole.log(items);\nvar slides = items.getElementsByClassName('slide'),\n    slidesLength = slides.length,\n    slideSize = items.getElementsByClassName('slide')[0].offsetWidth,\n    firstSlide = slides[0],\n    lastSlide = slides[slidesLength - 1],\n    cloneFirst = firstSlide.cloneNode(true),\n    cloneLast = lastSlide.cloneNode(true),\n    index = 0,\n    allowShift = true;\n\n// Clone first and last slide\nitems.appendChild(cloneFirst);\nitems.insertBefore(cloneLast, firstSlide);\nwrapper.classList.add('loaded');\n\n// Mouse and Touch events\nitems.onmousedown = dragStart;\n\n// Touch events\nitems.addEventListener('touchstart', dragStart);\nitems.addEventListener('touchend', dragEnd);\nitems.addEventListener('touchmove', dragAction);\n\n// Click events\nprev.addEventListener('click', function () {\n    shiftSlide(-1)\n});\nnext.addEventListener('click', function () {\n    shiftSlide(1)\n});\n\n// Transition events\nitems.addEventListener('transitionend', checkIndex);\n\nfunction dragStart(e) {\n    e = e || window.event;\n    e.preventDefault();\n    posInitial = items.offsetLeft;\n\n    if (e.type == 'touchstart') {\n        posX1 = e.touches[0].clientX;\n    } else {\n        posX1 = e.clientX;\n        document.onmouseup = dragEnd;\n        document.onmousemove = dragAction;\n    }\n}\n\nfunction dragAction(e) {\n    e = e || window.event;\n\n    if (e.type == 'touchmove') {\n        posX2 = posX1 - e.touches[0].clientX;\n        posX1 = e.touches[0].clientX;\n    } else {\n        posX2 = posX1 - e.clientX;\n        posX1 = e.clientX;\n    }\n    items.style.left = (items.offsetLeft - posX2) + \"px\";\n}\n\nfunction dragEnd(e) {\n    posFinal = items.offsetLeft;\n    if (posFinal - posInitial < -threshold) {\n        shiftSlide(1, 'drag');\n    } else if (posFinal - posInitial > threshold) {\n        shiftSlide(-1, 'drag');\n    } else {\n        items.style.left = (posInitial) + \"px\";\n    }\n\n    document.onmouseup = null;\n    document.onmousemove = null;\n}\n\nfunction shiftSlide(dir, action) {\n    items.classList.add('shifting');\n\n    if (allowShift) {\n        if (!action) {\n            posInitial = items.offsetLeft;\n        }\n\n        if (dir == 1) {\n            items.style.left = (posInitial - slideSize) + \"px\";\n            index++;\n        } else if (dir == -1) {\n            items.style.left = (posInitial + slideSize) + \"px\";\n            index--;\n        }\n    };\n\n    allowShift = false;\n}\n\nfunction checkIndex() {\n    items.classList.remove('shifting');\n\n    if (index == -1) {\n        items.style.left = -(slidesLength * slideSize) + \"px\";\n        index = slidesLength - 1;\n    }\n\n    if (index == slidesLength) {\n        items.style.left = -(1 * slideSize) + \"px\";\n        index = 0;\n    }\n\n    allowShift = true;\n}\n"]},"metadata":{},"sourceType":"module"}