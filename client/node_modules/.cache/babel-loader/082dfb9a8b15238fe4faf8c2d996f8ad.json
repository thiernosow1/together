{"ast":null,"code":"var _jsxFileName = \"/home/baht/together/client/src/components/register.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"../assets/css/app.css\";\nimport { render } from \"react-dom\";\nimport * as firebase from \"firebase\";\nimport StyledFirebaseAuth from \"react-firebaseui/StyledFirebaseAuth\";\nimport { db, auth } from \"../firebase/config\";\nexport default class Register extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      isSignedIn: false\n    };\n    this.uiConfig = {\n      SignInflow: \"popup\",\n      SignInOptions: [firebase.auth.EmailAuthProvider.PROVIDER_ID, firebase.auth.GoogleAuthProvider.PROVIDER_ID, firebase.auth.FacebookAuthProvider.PROVIDER_ID],\n      callbacks: {\n        signInSuccess: () => false\n      }\n    };\n\n    this.componentDidMount = () => {\n      firebase.auth().onAuthStateChanged(user => {\n        console.log(user);\n\n        if (user) {\n          this.setState({\n            isSignedIn: !!user\n          }, () => {\n            var _user$displayName;\n\n            db.collection(\"users\").add({\n              login: (_user$displayName = user.displayName) !== null && _user$displayName !== void 0 ? _user$displayName : \"\",\n              followed_by: [],\n              created_at: Date.now()\n            }).then(ref => localStorage.setItem(\"userId\", ref.id));\n          });\n        }\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      class: \"login_page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"intro\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }\n    }, \"Inscription\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }\n    }, \"Inscrivez vous et rejoignez la communaut\\xE9 Dailyart!\")), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"block_connexion\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }\n    }, this.state.isSignedIn ? /*#__PURE__*/React.createElement(\"div\", {\n      class: \"post_register\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 15\n      }\n    }, \" Inscription r\\xE9ussie !\"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"bloc_infos\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }\n    }, \"Bienvenue, \", firebase.auth().currentUser.displayName), /*#__PURE__*/React.createElement(\"img\", {\n      alt: \"profil picture\",\n      src: firebase.auth().currentUser.photoURL,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Link, {\n      to: \"/home\",\n      class: \"arrow\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }\n    }, \"continuer\"))) : /*#__PURE__*/React.createElement(StyledFirebaseAuth, {\n      uiConfig: this.uiConfig,\n      firebaseAuth: firebase.auth(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }\n    })), this.state.isSignedIn ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      class: \"accroche\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }\n    }, \"D\\xE9j\\xE0 un compte ?\", \" \", /*#__PURE__*/React.createElement(Link, {\n      to: \"/login\",\n      id: \"login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 15\n      }\n    }, \"Connectez-vous!\"), \" \")));\n  }\n\n}\nexport class RegisterForm extends Component {\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }\n    }, \" page du register form \"));\n  }\n\n}","map":{"version":3,"sources":["/home/baht/together/client/src/components/register.js"],"names":["React","Component","Link","render","firebase","StyledFirebaseAuth","db","auth","Register","state","isSignedIn","uiConfig","SignInflow","SignInOptions","EmailAuthProvider","PROVIDER_ID","GoogleAuthProvider","FacebookAuthProvider","callbacks","signInSuccess","componentDidMount","onAuthStateChanged","user","console","log","setState","collection","add","login","displayName","followed_by","created_at","Date","now","then","ref","localStorage","setItem","id","currentUser","photoURL","RegisterForm"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"../assets/css/app.css\";\nimport { render } from \"react-dom\";\nimport * as firebase from \"firebase\";\nimport StyledFirebaseAuth from \"react-firebaseui/StyledFirebaseAuth\";\nimport { db, auth } from \"../firebase/config\";\n\nexport default class Register extends Component {\n  state = { isSignedIn: false };\n\n  uiConfig = {\n    SignInflow: \"popup\",\n    SignInOptions: [\n      firebase.auth.EmailAuthProvider.PROVIDER_ID,\n      firebase.auth.GoogleAuthProvider.PROVIDER_ID,\n      firebase.auth.FacebookAuthProvider.PROVIDER_ID,\n    ],\n    callbacks: {\n      signInSuccess: () => false,\n    },\n  };\n\n  componentDidMount = () => {\n    firebase.auth().onAuthStateChanged((user) => {\n      console.log(user);\n      if (user) {\n        this.setState({ isSignedIn: !!user }, () => {\n          db.collection(\"users\")\n            .add({\n              login: user.displayName ?? \"\",\n              followed_by: [],\n              created_at: Date.now(),\n            })\n            .then((ref) => localStorage.setItem(\"userId\", ref.id));\n        });\n      }\n    });\n  };\n\n  render() {\n    return (\n      <div class=\"login_page\">\n        <div class=\"intro\">\n          <h2>Inscription</h2>\n          <p>Inscrivez vous et rejoignez la communauté Dailyart!</p>\n        </div>\n\n        <div class=\"block_connexion\">\n          {this.state.isSignedIn ? (\n            <div class=\"post_register\">\n              <h3> Inscription réussie !</h3>\n              <div class=\"bloc_infos\">\n                {/* <button onClick={()=> firebase.auth().signOut()}>Sign Out</button> */}\n                <h1>Bienvenue, {firebase.auth().currentUser.displayName}</h1>\n                <img\n                  alt=\"profil picture\"\n                  src={firebase.auth().currentUser.photoURL}\n                />\n                <Link to={\"/home\"} class=\"arrow\">\n                  continuer\n                </Link>\n              </div>\n            </div>\n          ) : (\n            <StyledFirebaseAuth\n              uiConfig={this.uiConfig}\n              firebaseAuth={firebase.auth()}\n            />\n          )}\n        </div>\n\n        {this.state.isSignedIn ? (\n          <div></div>\n        ) : (\n          <div>\n            <p class=\"accroche\">\n              Déjà un compte ?{\" \"}\n              <Link to={\"/login\"} id=\"login\">\n                Connectez-vous!\n              </Link>{\" \"}\n            </p>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport class RegisterForm extends Component {\n  render() {\n    return (\n      <div>\n        <p> page du register form </p>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}