{"ast":null,"code":"var slider = document.getElementById('slider'),\n    sliderItems = document.getElementById('items'),\n    prev = document.getElementById('prev'),\n    next = document.getElementById('next');\nslide(slider, sliderItems, prev, next);\n\nfunction slide(wrapper, items, prev, next) {\n  var posX1 = 0,\n      posX2 = 0,\n      posInitial,\n      posFinal,\n      threshold = 80,\n      slides = items.getElementsByClassName('slide'),\n      slidesLength = slides.length,\n      slideSize = items.getElementsByClassName('slide')[0].offsetWidth,\n      firstSlide = slides[0],\n      lastSlide = slides[slidesLength - 1],\n      cloneFirst = firstSlide.cloneNode(true),\n      cloneLast = lastSlide.cloneNode(true),\n      index = 0,\n      allowShift = true; // Clone first and last slide\n\n  items.appendChild(cloneFirst);\n  items.insertBefore(cloneLast, firstSlide);\n  wrapper.classList.add('loaded'); // Mouse and Touch events\n\n  items.onmousedown = dragStart; // Touch events\n\n  items.addEventListener('touchstart', dragStart);\n  items.addEventListener('touchend', dragEnd);\n  items.addEventListener('touchmove', dragAction); // Click events\n\n  prev.addEventListener('click', function () {\n    shiftSlide(-1);\n  });\n  next.addEventListener('click', function () {\n    shiftSlide(1);\n  }); // Transition events\n\n  items.addEventListener('transitionend', checkIndex);\n\n  function dragStart(e) {\n    e = e || window.event;\n    e.preventDefault();\n    posInitial = items.offsetLeft;\n\n    if (e.type == 'touchstart') {\n      posX1 = e.touches[0].clientX;\n    } else {\n      posX1 = e.clientX;\n      document.onmouseup = dragEnd;\n      document.onmousemove = dragAction;\n    }\n  }\n\n  function dragAction(e) {\n    e = e || window.event;\n\n    if (e.type == 'touchmove') {\n      posX2 = posX1 - e.touches[0].clientX;\n      posX1 = e.touches[0].clientX;\n    } else {\n      posX2 = posX1 - e.clientX;\n      posX1 = e.clientX;\n    }\n\n    items.style.left = items.offsetLeft - posX2 + \"px\";\n  }\n\n  function dragEnd(e) {\n    posFinal = items.offsetLeft;\n\n    if (posFinal - posInitial < -threshold) {\n      shiftSlide(1, 'drag');\n    } else if (posFinal - posInitial > threshold) {\n      shiftSlide(-1, 'drag');\n    } else {\n      items.style.left = posInitial + \"px\";\n    }\n\n    document.onmouseup = null;\n    document.onmousemove = null;\n  }\n\n  function shiftSlide(dir, action) {\n    items.classList.add('shifting');\n\n    if (allowShift) {\n      if (!action) {\n        posInitial = items.offsetLeft;\n      }\n\n      if (dir == 1) {\n        items.style.left = posInitial - slideSize + \"px\";\n        index++;\n      } else if (dir == -1) {\n        items.style.left = posInitial + slideSize + \"px\";\n        index--;\n      }\n    }\n\n    ;\n    allowShift = false;\n  }\n\n  function checkIndex() {\n    items.classList.remove('shifting');\n\n    if (index == -1) {\n      items.style.left = -(slidesLength * slideSize) + \"px\";\n      index = slidesLength - 1;\n    }\n\n    if (index == slidesLength) {\n      items.style.left = -(1 * slideSize) + \"px\";\n      index = 0;\n    }\n\n    allowShift = true;\n  }\n}","map":{"version":3,"sources":["/Applications/MAMP/htdocs/together/together/client/src/assets/js/carousel.js"],"names":["slider","document","getElementById","sliderItems","prev","next","slide","wrapper","items","posX1","posX2","posInitial","posFinal","threshold","slides","getElementsByClassName","slidesLength","length","slideSize","offsetWidth","firstSlide","lastSlide","cloneFirst","cloneNode","cloneLast","index","allowShift","appendChild","insertBefore","classList","add","onmousedown","dragStart","addEventListener","dragEnd","dragAction","shiftSlide","checkIndex","e","window","event","preventDefault","offsetLeft","type","touches","clientX","onmouseup","onmousemove","style","left","dir","action","remove"],"mappings":"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","sourcesContent":["\n\nvar slider = document.getElementById('slider'),\n    sliderItems = document.getElementById('items'),\n    prev = document.getElementById('prev'),\n    next = document.getElementById('next');\n\nslide(slider, sliderItems, prev, next);\n\nfunction slide(wrapper, items, prev, next) {\n  var posX1 = 0,\n      posX2 = 0,\n      posInitial,\n      posFinal,\n      threshold = 80,\n      slides = items.getElementsByClassName('slide'),\n      slidesLength = slides.length,\n      slideSize = items.getElementsByClassName('slide')[0].offsetWidth,\n      firstSlide = slides[0],\n      lastSlide = slides[slidesLength - 1],\n      cloneFirst = firstSlide.cloneNode(true),\n      cloneLast = lastSlide.cloneNode(true),\n      index = 0,\n      allowShift = true;\n  \n  // Clone first and last slide\n  items.appendChild(cloneFirst);\n  items.insertBefore(cloneLast, firstSlide);\n  wrapper.classList.add('loaded');\n  \n  // Mouse and Touch events\n  items.onmousedown = dragStart;\n  \n  // Touch events\n  items.addEventListener('touchstart', dragStart);\n  items.addEventListener('touchend', dragEnd);\n  items.addEventListener('touchmove', dragAction);\n  \n  // Click events\n  prev.addEventListener('click', function () { shiftSlide(-1) });\n  next.addEventListener('click', function () { shiftSlide(1) });\n  \n  // Transition events\n  items.addEventListener('transitionend', checkIndex);\n  \n  function dragStart (e) {\n    e = e || window.event;\n    e.preventDefault();\n    posInitial = items.offsetLeft;\n    \n    if (e.type == 'touchstart') {\n      posX1 = e.touches[0].clientX;\n    } else {\n      posX1 = e.clientX;\n      document.onmouseup = dragEnd;\n      document.onmousemove = dragAction;\n    }\n  }\n\n  function dragAction (e) {\n    e = e || window.event;\n    \n    if (e.type == 'touchmove') {\n      posX2 = posX1 - e.touches[0].clientX;\n      posX1 = e.touches[0].clientX;\n    } else {\n      posX2 = posX1 - e.clientX;\n      posX1 = e.clientX;\n    }\n    items.style.left = (items.offsetLeft - posX2) + \"px\";\n  }\n  \n  function dragEnd (e) {\n    posFinal = items.offsetLeft;\n    if (posFinal - posInitial < -threshold) {\n      shiftSlide(1, 'drag');\n    } else if (posFinal - posInitial > threshold) {\n      shiftSlide(-1, 'drag');\n    } else {\n      items.style.left = (posInitial) + \"px\";\n    }\n\n    document.onmouseup = null;\n    document.onmousemove = null;\n  }\n  \n  function shiftSlide(dir, action) {\n    items.classList.add('shifting');\n    \n    if (allowShift) {\n      if (!action) { posInitial = items.offsetLeft; }\n\n      if (dir == 1) {\n        items.style.left = (posInitial - slideSize) + \"px\";\n        index++;      \n      } else if (dir == -1) {\n        items.style.left = (posInitial + slideSize) + \"px\";\n        index--;      \n      }\n    };\n    \n    allowShift = false;\n  }\n    \n  function checkIndex (){\n    items.classList.remove('shifting');\n\n    if (index == -1) {\n      items.style.left = -(slidesLength * slideSize) + \"px\";\n      index = slidesLength - 1;\n    }\n\n    if (index == slidesLength) {\n      items.style.left = -(1 * slideSize) + \"px\";\n      index = 0;\n    }\n    \n    allowShift = true;\n  }\n}\n\n"]},"metadata":{},"sourceType":"module"}