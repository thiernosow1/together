"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = defineProperties;

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

const DESCRIPTOR_KEYS = Object.freeze(['value', 'get', 'set', 'configurable', 'enumerable', 'writable']);
/**
 * Convenience wrapper around [Object.defineProperties]{@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperties}
 * @see [Object.defineProperties | MDN]{@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperties}
 * @since 0.1.0
 *
 * @param {object} target - The target object
 * @param {object} props - Property values or descriptors
 * @param {object} [descriptorDefaults={ enumerable: false }] - Default descriptor attributes to be applied to all props
 * @return {object} target
 *
 * @example
 * defineProperties(
 * 	object,
 * 	{
 * 		key1: 'value',
 * 		key2: { value: 'value', configurable: true }
 * 		key3: { get: () => 'value' }
 * 	},
 * 	{ configurable: false }
 * );
 */

function defineProperties(object, props, descriptorDefaults = {}) {
  const defaultDescriptor = _objectSpread({
    enumerable: false
  }, descriptorDefaults);

  Object.defineProperties(object, [...Object.keys(props), ...Object.getOwnPropertySymbols(props)].reduce((acc, key) => {
    const value = props[key];
    const isPartial = value && typeof value === 'object' && DESCRIPTOR_KEYS.some(k => Object.hasOwnProperty.call(value, k));
    acc[key] = _objectSpread({}, defaultDescriptor, isPartial ? value : {
      value
    });
    return acc;
  }, {}));
  return object;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9saWIvaGVscGVycy9kZWZpbmVQcm9wZXJ0aWVzLmpzIl0sIm5hbWVzIjpbIkRFU0NSSVBUT1JfS0VZUyIsIk9iamVjdCIsImZyZWV6ZSIsImRlZmluZVByb3BlcnRpZXMiLCJvYmplY3QiLCJwcm9wcyIsImRlc2NyaXB0b3JEZWZhdWx0cyIsImRlZmF1bHREZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImtleXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJyZWR1Y2UiLCJhY2MiLCJrZXkiLCJ2YWx1ZSIsImlzUGFydGlhbCIsInNvbWUiLCJrIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBLE1BQU1BLGVBQWUsR0FBR0MsTUFBTSxDQUFDQyxNQUFQLENBQWMsQ0FDckMsT0FEcUMsRUFFckMsS0FGcUMsRUFHckMsS0FIcUMsRUFJckMsY0FKcUMsRUFLckMsWUFMcUMsRUFNckMsVUFOcUMsQ0FBZCxDQUF4QjtBQVNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBcUJlLFNBQVNDLGdCQUFULENBQTBCQyxNQUExQixFQUFrQ0MsS0FBbEMsRUFBeUNDLGtCQUFrQixHQUFHLEVBQTlELEVBQWtFO0FBQ2hGLFFBQU1DLGlCQUFpQjtBQUFLQyxJQUFBQSxVQUFVLEVBQUU7QUFBakIsS0FBMkJGLGtCQUEzQixDQUF2Qjs7QUFDQUwsRUFBQUEsTUFBTSxDQUFDRSxnQkFBUCxDQUNDQyxNQURELEVBRUMsQ0FBQyxHQUFHSCxNQUFNLENBQUNRLElBQVAsQ0FBWUosS0FBWixDQUFKLEVBQXdCLEdBQUdKLE1BQU0sQ0FBQ1MscUJBQVAsQ0FBNkJMLEtBQTdCLENBQTNCLEVBQWdFTSxNQUFoRSxDQUF1RSxDQUFDQyxHQUFELEVBQU1DLEdBQU4sS0FBYztBQUNwRixVQUFNQyxLQUFLLEdBQUdULEtBQUssQ0FBQ1EsR0FBRCxDQUFuQjtBQUNBLFVBQU1FLFNBQVMsR0FDZEQsS0FBSyxJQUNMLE9BQU9BLEtBQVAsS0FBaUIsUUFEakIsSUFFQWQsZUFBZSxDQUFDZ0IsSUFBaEIsQ0FBcUJDLENBQUMsSUFBSWhCLE1BQU0sQ0FBQ2lCLGNBQVAsQ0FBc0JDLElBQXRCLENBQTJCTCxLQUEzQixFQUFrQ0csQ0FBbEMsQ0FBMUIsQ0FIRDtBQUlBTCxJQUFBQSxHQUFHLENBQUNDLEdBQUQsQ0FBSCxxQkFBZ0JOLGlCQUFoQixFQUF1Q1EsU0FBUyxHQUFHRCxLQUFILEdBQVc7QUFBRUEsTUFBQUE7QUFBRixLQUEzRDtBQUNBLFdBQU9GLEdBQVA7QUFDQSxHQVJELEVBUUcsRUFSSCxDQUZEO0FBWUEsU0FBT1IsTUFBUDtBQUNBIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgREVTQ1JJUFRPUl9LRVlTID0gT2JqZWN0LmZyZWV6ZShbXG5cdCd2YWx1ZScsXG5cdCdnZXQnLFxuXHQnc2V0Jyxcblx0J2NvbmZpZ3VyYWJsZScsXG5cdCdlbnVtZXJhYmxlJyxcblx0J3dyaXRhYmxlJ1xuXSk7XG5cbi8qKlxuICogQ29udmVuaWVuY2Ugd3JhcHBlciBhcm91bmQgW09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvZGVmaW5lUHJvcGVydGllc31cbiAqIEBzZWUgW09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzIHwgTUROXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvZGVmaW5lUHJvcGVydGllc31cbiAqIEBzaW5jZSAwLjEuMFxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSB0YXJnZXQgLSBUaGUgdGFyZ2V0IG9iamVjdFxuICogQHBhcmFtIHtvYmplY3R9IHByb3BzIC0gUHJvcGVydHkgdmFsdWVzIG9yIGRlc2NyaXB0b3JzXG4gKiBAcGFyYW0ge29iamVjdH0gW2Rlc2NyaXB0b3JEZWZhdWx0cz17IGVudW1lcmFibGU6IGZhbHNlIH1dIC0gRGVmYXVsdCBkZXNjcmlwdG9yIGF0dHJpYnV0ZXMgdG8gYmUgYXBwbGllZCB0byBhbGwgcHJvcHNcbiAqIEByZXR1cm4ge29iamVjdH0gdGFyZ2V0XG4gKlxuICogQGV4YW1wbGVcbiAqIGRlZmluZVByb3BlcnRpZXMoXG4gKiBcdG9iamVjdCxcbiAqIFx0e1xuICogXHRcdGtleTE6ICd2YWx1ZScsXG4gKiBcdFx0a2V5MjogeyB2YWx1ZTogJ3ZhbHVlJywgY29uZmlndXJhYmxlOiB0cnVlIH1cbiAqIFx0XHRrZXkzOiB7IGdldDogKCkgPT4gJ3ZhbHVlJyB9XG4gKiBcdH0sXG4gKiBcdHsgY29uZmlndXJhYmxlOiBmYWxzZSB9XG4gKiApO1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKG9iamVjdCwgcHJvcHMsIGRlc2NyaXB0b3JEZWZhdWx0cyA9IHt9KSB7XG5cdGNvbnN0IGRlZmF1bHREZXNjcmlwdG9yID0geyBlbnVtZXJhYmxlOiBmYWxzZSwgLi4uZGVzY3JpcHRvckRlZmF1bHRzIH07XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFxuXHRcdG9iamVjdCxcblx0XHRbLi4uT2JqZWN0LmtleXMocHJvcHMpLCAuLi5PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHByb3BzKV0ucmVkdWNlKChhY2MsIGtleSkgPT4ge1xuXHRcdFx0Y29uc3QgdmFsdWUgPSBwcm9wc1trZXldO1xuXHRcdFx0Y29uc3QgaXNQYXJ0aWFsID1cblx0XHRcdFx0dmFsdWUgJiZcblx0XHRcdFx0dHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJlxuXHRcdFx0XHRERVNDUklQVE9SX0tFWVMuc29tZShrID0+IE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrKSk7XG5cdFx0XHRhY2Nba2V5XSA9IHsgLi4uZGVmYXVsdERlc2NyaXB0b3IsIC4uLihpc1BhcnRpYWwgPyB2YWx1ZSA6IHsgdmFsdWUgfSkgfTtcblx0XHRcdHJldHVybiBhY2M7XG5cdFx0fSwge30pXG5cdCk7XG5cdHJldHVybiBvYmplY3Q7XG59XG4iXX0=