"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = Deferred;

var _identity = _interopRequireDefault(require("./identity"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Creates a new Deferred object
 * @see [Deferred | MDN]{@link https://developer.mozilla.org/en-US/docs/Mozilla/JavaScript_code_modules/Promise.jsm/Deferred}
 * @since 0.1.0
 *
 * @param {function} [onResolved=[identity]{@link module:identity}]
 * @param {function} [onRejected]
 * @return {object}
 */
function Deferred(onResolved = _identity.default, onRejected) {
  let resolve;
  let reject;
  const promise = new Promise((...args) => {
    [resolve, reject] = args;
  }).then(onResolved, onRejected);
  return {
    resolve,
    reject,
    promise
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9saWIvaGVscGVycy9kZWZlcnJlZC5qcyJdLCJuYW1lcyI6WyJEZWZlcnJlZCIsIm9uUmVzb2x2ZWQiLCJpZGVudGl0eSIsIm9uUmVqZWN0ZWQiLCJyZXNvbHZlIiwicmVqZWN0IiwicHJvbWlzZSIsIlByb21pc2UiLCJhcmdzIiwidGhlbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUE7Ozs7Ozs7OztBQVNlLFNBQVNBLFFBQVQsQ0FBa0JDLFVBQVUsR0FBR0MsaUJBQS9CLEVBQXlDQyxVQUF6QyxFQUFxRDtBQUNuRSxNQUFJQyxPQUFKO0FBQ0EsTUFBSUMsTUFBSjtBQUNBLFFBQU1DLE9BQU8sR0FBRyxJQUFJQyxPQUFKLENBQVksQ0FBQyxHQUFHQyxJQUFKLEtBQWE7QUFDeEMsS0FBQ0osT0FBRCxFQUFVQyxNQUFWLElBQW9CRyxJQUFwQjtBQUNBLEdBRmUsRUFFYkMsSUFGYSxDQUVSUixVQUZRLEVBRUlFLFVBRkosQ0FBaEI7QUFHQSxTQUFPO0FBQUVDLElBQUFBLE9BQUY7QUFBV0MsSUFBQUEsTUFBWDtBQUFtQkMsSUFBQUE7QUFBbkIsR0FBUDtBQUNBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGlkZW50aXR5IGZyb20gJy4vaWRlbnRpdHknO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgRGVmZXJyZWQgb2JqZWN0XG4gKiBAc2VlIFtEZWZlcnJlZCB8IE1ETl17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9Nb3ppbGxhL0phdmFTY3JpcHRfY29kZV9tb2R1bGVzL1Byb21pc2UuanNtL0RlZmVycmVkfVxuICogQHNpbmNlIDAuMS4wXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gW29uUmVzb2x2ZWQ9W2lkZW50aXR5XXtAbGluayBtb2R1bGU6aWRlbnRpdHl9XVxuICogQHBhcmFtIHtmdW5jdGlvbn0gW29uUmVqZWN0ZWRdXG4gKiBAcmV0dXJuIHtvYmplY3R9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIERlZmVycmVkKG9uUmVzb2x2ZWQgPSBpZGVudGl0eSwgb25SZWplY3RlZCkge1xuXHRsZXQgcmVzb2x2ZTtcblx0bGV0IHJlamVjdDtcblx0Y29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKCguLi5hcmdzKSA9PiB7XG5cdFx0W3Jlc29sdmUsIHJlamVjdF0gPSBhcmdzO1xuXHR9KS50aGVuKG9uUmVzb2x2ZWQsIG9uUmVqZWN0ZWQpO1xuXHRyZXR1cm4geyByZXNvbHZlLCByZWplY3QsIHByb21pc2UgfTtcbn1cbiJdfQ==