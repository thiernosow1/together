"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.readJSONAsync = readJSONAsync;
exports.writeJSONAsync = writeJSONAsync;
exports.writeFileAsync = exports.readFileAsync = exports.statAsync = exports.mkdirpAsync = exports.rimrafAsync = void 0;

var _fs = _interopRequireDefault(require("fs"));

var _mkdirp = _interopRequireDefault(require("mkdirp"));

var _rimraf = _interopRequireDefault(require("rimraf"));

var _promisify = _interopRequireDefault(require("./promisify"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const rimrafAsync = (0, _promisify.default)(_rimraf.default);
exports.rimrafAsync = rimrafAsync;
const mkdirpAsync = (0, _promisify.default)(_mkdirp.default);
exports.mkdirpAsync = mkdirpAsync;
const statAsync = (0, _promisify.default)(_fs.default.stat, _fs.default);
exports.statAsync = statAsync;
const readFileAsync = (0, _promisify.default)(_fs.default.readFile, _fs.default, {
  defaults: {
    1: 'utf8'
  }
});
exports.readFileAsync = readFileAsync;
const writeFileAsync = (0, _promisify.default)(_fs.default.writeFile, _fs.default);
exports.writeFileAsync = writeFileAsync;

function readJSONAsync(path) {
  return readFileAsync(path).then(JSON.parse);
}

function writeJSONAsync(path, data, opts) {
  return writeFileAsync(path, JSON.stringify(data, null, 2), opts);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9saWIvaGVscGVycy9mcy5qcyJdLCJuYW1lcyI6WyJyaW1yYWZBc3luYyIsInJpbXJhZiIsIm1rZGlycEFzeW5jIiwibWtkaXJwIiwic3RhdEFzeW5jIiwiZnMiLCJzdGF0IiwicmVhZEZpbGVBc3luYyIsInJlYWRGaWxlIiwiZGVmYXVsdHMiLCJ3cml0ZUZpbGVBc3luYyIsIndyaXRlRmlsZSIsInJlYWRKU09OQXN5bmMiLCJwYXRoIiwidGhlbiIsIkpTT04iLCJwYXJzZSIsIndyaXRlSlNPTkFzeW5jIiwiZGF0YSIsIm9wdHMiLCJzdHJpbmdpZnkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztBQUVBOztBQUNBOztBQUNBOzs7O0FBRU8sTUFBTUEsV0FBVyxHQUFHLHdCQUFVQyxlQUFWLENBQXBCOztBQUVBLE1BQU1DLFdBQVcsR0FBRyx3QkFBVUMsZUFBVixDQUFwQjs7QUFFQSxNQUFNQyxTQUFTLEdBQUcsd0JBQVVDLFlBQUdDLElBQWIsRUFBbUJELFdBQW5CLENBQWxCOztBQUVBLE1BQU1FLGFBQWEsR0FBRyx3QkFBVUYsWUFBR0csUUFBYixFQUF1QkgsV0FBdkIsRUFBMkI7QUFDdkRJLEVBQUFBLFFBQVEsRUFBRTtBQUFFLE9BQUc7QUFBTDtBQUQ2QyxDQUEzQixDQUF0Qjs7QUFJQSxNQUFNQyxjQUFjLEdBQUcsd0JBQVVMLFlBQUdNLFNBQWIsRUFBd0JOLFdBQXhCLENBQXZCOzs7QUFFQSxTQUFTTyxhQUFULENBQXVCQyxJQUF2QixFQUE2QjtBQUNuQyxTQUFPTixhQUFhLENBQUNNLElBQUQsQ0FBYixDQUFvQkMsSUFBcEIsQ0FBeUJDLElBQUksQ0FBQ0MsS0FBOUIsQ0FBUDtBQUNBOztBQUVNLFNBQVNDLGNBQVQsQ0FBd0JKLElBQXhCLEVBQThCSyxJQUE5QixFQUFvQ0MsSUFBcEMsRUFBMEM7QUFDaEQsU0FBT1QsY0FBYyxDQUFDRyxJQUFELEVBQU9FLElBQUksQ0FBQ0ssU0FBTCxDQUFlRixJQUFmLEVBQXFCLElBQXJCLEVBQTJCLENBQTNCLENBQVAsRUFBc0NDLElBQXRDLENBQXJCO0FBQ0EiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZnMgZnJvbSAnZnMnO1xuXG5pbXBvcnQgbWtkaXJwIGZyb20gJ21rZGlycCc7XG5pbXBvcnQgcmltcmFmIGZyb20gJ3JpbXJhZic7XG5pbXBvcnQgcHJvbWlzaWZ5IGZyb20gJy4vcHJvbWlzaWZ5JztcblxuZXhwb3J0IGNvbnN0IHJpbXJhZkFzeW5jID0gcHJvbWlzaWZ5KHJpbXJhZik7XG5cbmV4cG9ydCBjb25zdCBta2RpcnBBc3luYyA9IHByb21pc2lmeShta2RpcnApO1xuXG5leHBvcnQgY29uc3Qgc3RhdEFzeW5jID0gcHJvbWlzaWZ5KGZzLnN0YXQsIGZzKTtcblxuZXhwb3J0IGNvbnN0IHJlYWRGaWxlQXN5bmMgPSBwcm9taXNpZnkoZnMucmVhZEZpbGUsIGZzLCB7XG5cdGRlZmF1bHRzOiB7IDE6ICd1dGY4JyB9XG59KTtcblxuZXhwb3J0IGNvbnN0IHdyaXRlRmlsZUFzeW5jID0gcHJvbWlzaWZ5KGZzLndyaXRlRmlsZSwgZnMpO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVhZEpTT05Bc3luYyhwYXRoKSB7XG5cdHJldHVybiByZWFkRmlsZUFzeW5jKHBhdGgpLnRoZW4oSlNPTi5wYXJzZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB3cml0ZUpTT05Bc3luYyhwYXRoLCBkYXRhLCBvcHRzKSB7XG5cdHJldHVybiB3cml0ZUZpbGVBc3luYyhwYXRoLCBKU09OLnN0cmluZ2lmeShkYXRhLCBudWxsLCAyKSwgb3B0cyk7XG59XG4iXX0=