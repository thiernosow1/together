"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _template = _interopRequireDefault(require("@babel/template"));

var _pick = _interopRequireDefault(require("../../../../lib/helpers/pick"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const template = (0, _template.default)(`
	NAMESPACE["KEY"] = function(exports, $require, module, __filename, __dirname) {
		delete NAMESPACE["KEY"];
		return module.define(META, function() {
			BODY
		});
	},
	NAMESPACE;
`);

var _default = ({
  meta,
  body
}) => template({
  NAMESPACE: 'this',
  KEY: `pid:${meta.pid}`,
  META: JSON.stringify((0, _pick.default)(meta, ['moduleId', 'pid']), null, 2),
  BODY: body
});

exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9zZXJ2ZXIvaW5zdGFsbGVyL3RyYW5zZm9ybXMvdGVtcGxhdGVzL21vZHVsZS5qcyJdLCJuYW1lcyI6WyJ0ZW1wbGF0ZSIsIm1ldGEiLCJib2R5IiwiTkFNRVNQQUNFIiwiS0VZIiwicGlkIiwiTUVUQSIsIkpTT04iLCJzdHJpbmdpZnkiLCJCT0RZIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBRUE7Ozs7QUFFQSxNQUFNQSxRQUFRLEdBQUcsdUJBQVU7Ozs7Ozs7O0NBQVYsQ0FBakI7O2VBVWUsQ0FBQztBQUFFQyxFQUFBQSxJQUFGO0FBQVFDLEVBQUFBO0FBQVIsQ0FBRCxLQUNkRixRQUFRLENBQUM7QUFDUkcsRUFBQUEsU0FBUyxFQUFFLE1BREg7QUFFUkMsRUFBQUEsR0FBRyxFQUFHLE9BQU1ILElBQUksQ0FBQ0ksR0FBSSxFQUZiO0FBR1JDLEVBQUFBLElBQUksRUFBRUMsSUFBSSxDQUFDQyxTQUFMLENBQWUsbUJBQUtQLElBQUwsRUFBVyxDQUFDLFVBQUQsRUFBYSxLQUFiLENBQVgsQ0FBZixFQUFnRCxJQUFoRCxFQUFzRCxDQUF0RCxDQUhFO0FBSVJRLEVBQUFBLElBQUksRUFBRVA7QUFKRSxDQUFELEMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVGVtcGxhdGUgZnJvbSAnQGJhYmVsL3RlbXBsYXRlJztcblxuaW1wb3J0IHBpY2sgZnJvbSAnLi4vLi4vLi4vLi4vbGliL2hlbHBlcnMvcGljayc7XG5cbmNvbnN0IHRlbXBsYXRlID0gVGVtcGxhdGUoYFxuXHROQU1FU1BBQ0VbXCJLRVlcIl0gPSBmdW5jdGlvbihleHBvcnRzLCAkcmVxdWlyZSwgbW9kdWxlLCBfX2ZpbGVuYW1lLCBfX2Rpcm5hbWUpIHtcblx0XHRkZWxldGUgTkFNRVNQQUNFW1wiS0VZXCJdO1xuXHRcdHJldHVybiBtb2R1bGUuZGVmaW5lKE1FVEEsIGZ1bmN0aW9uKCkge1xuXHRcdFx0Qk9EWVxuXHRcdH0pO1xuXHR9LFxuXHROQU1FU1BBQ0U7XG5gKTtcblxuZXhwb3J0IGRlZmF1bHQgKHsgbWV0YSwgYm9keSB9KSA9PlxuXHR0ZW1wbGF0ZSh7XG5cdFx0TkFNRVNQQUNFOiAndGhpcycsXG5cdFx0S0VZOiBgcGlkOiR7bWV0YS5waWR9YCxcblx0XHRNRVRBOiBKU09OLnN0cmluZ2lmeShwaWNrKG1ldGEsIFsnbW9kdWxlSWQnLCAncGlkJ10pLCBudWxsLCAyKSxcblx0XHRCT0RZOiBib2R5XG5cdH0pO1xuIl19