"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _deepmerge = _interopRequireDefault(require("deepmerge"));

var _default2 = _interopRequireDefault(require("../default"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var _default = (C, ctx) => {
  const adapter = (0, _default2.default)(C, ctx);
  return _objectSpread({}, adapter, {
    visitors: (0, _deepmerge.default)(adapter.visitors, {
      Parse: {
        pre: resource => {
          // eslint-disable-next-line no-param-reassign
          resource.output = `module.exports = ${resource.output};`;
          return adapter.runVisitor(resource, ['Parse', 'pre']);
        }
      }
    })
  });
};

exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3NyYy9zZXJ2ZXIvaW5zdGFsbGVyL3Jlc291cmNlL2FkYXB0ZXJzL2pzb24vaW5kZXguanMiXSwibmFtZXMiOlsiQyIsImN0eCIsImFkYXB0ZXIiLCJ2aXNpdG9ycyIsIlBhcnNlIiwicHJlIiwicmVzb3VyY2UiLCJvdXRwdXQiLCJydW5WaXNpdG9yIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBRUE7Ozs7Ozs7O2VBRWUsQ0FBQ0EsQ0FBRCxFQUFJQyxHQUFKLEtBQVk7QUFDMUIsUUFBTUMsT0FBTyxHQUFHLHVCQUFlRixDQUFmLEVBQWtCQyxHQUFsQixDQUFoQjtBQUNBLDJCQUNJQyxPQURKO0FBRUNDLElBQUFBLFFBQVEsRUFBRSx3QkFBTUQsT0FBTyxDQUFDQyxRQUFkLEVBQXdCO0FBQ2pDQyxNQUFBQSxLQUFLLEVBQUU7QUFDTkMsUUFBQUEsR0FBRyxFQUFFQyxRQUFRLElBQUk7QUFDaEI7QUFDQUEsVUFBQUEsUUFBUSxDQUFDQyxNQUFULEdBQW1CLG9CQUFtQkQsUUFBUSxDQUFDQyxNQUFPLEdBQXREO0FBQ0EsaUJBQU9MLE9BQU8sQ0FBQ00sVUFBUixDQUFtQkYsUUFBbkIsRUFBNkIsQ0FBQyxPQUFELEVBQVUsS0FBVixDQUE3QixDQUFQO0FBQ0E7QUFMSztBQUQwQixLQUF4QjtBQUZYO0FBWUEsQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtZXJnZSBmcm9tICdkZWVwbWVyZ2UnO1xuXG5pbXBvcnQgRGVmYXVsdEFkYXB0ZXIgZnJvbSAnLi4vZGVmYXVsdCc7XG5cbmV4cG9ydCBkZWZhdWx0IChDLCBjdHgpID0+IHtcblx0Y29uc3QgYWRhcHRlciA9IERlZmF1bHRBZGFwdGVyKEMsIGN0eCk7XG5cdHJldHVybiB7XG5cdFx0Li4uYWRhcHRlcixcblx0XHR2aXNpdG9yczogbWVyZ2UoYWRhcHRlci52aXNpdG9ycywge1xuXHRcdFx0UGFyc2U6IHtcblx0XHRcdFx0cHJlOiByZXNvdXJjZSA9PiB7XG5cdFx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG5cdFx0XHRcdFx0cmVzb3VyY2Uub3V0cHV0ID0gYG1vZHVsZS5leHBvcnRzID0gJHtyZXNvdXJjZS5vdXRwdXR9O2A7XG5cdFx0XHRcdFx0cmV0dXJuIGFkYXB0ZXIucnVuVmlzaXRvcihyZXNvdXJjZSwgWydQYXJzZScsICdwcmUnXSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KVxuXHR9O1xufTtcbiJdfQ==