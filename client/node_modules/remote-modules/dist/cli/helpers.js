"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.normalizeArrayOption = normalizeArrayOption;
exports.toPrimitive = toPrimitive;

function normalizeArrayOption(array = []) {
  return array.join(',').split(',').reduce((acc, value) => [...acc, ...value.split(/,\s?/)], []).filter(Boolean);
}

function isTrueNumber(value) {
  return Boolean(value && typeof value === 'string' || typeof value === 'number') && !Number.isNaN(Number(value));
}

function toPrimitive(value) {
  const stringValue = String(value);

  switch (true) {
    case stringValue === 'null':
      return null;

    case stringValue === 'undefined':
      return undefined;

    case stringValue === 'true':
    case stringValue === 'false':
      return stringValue === 'true';

    case isTrueNumber(stringValue):
      return Number(value);

    case typeof value === 'object':
      return Object.entries(value).reduce((acc, [k, v]) => {
        acc[k] = toPrimitive(v);
        return acc;
      }, new value.constructor());

    default:
      return value;
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jbGkvaGVscGVycy5qcyJdLCJuYW1lcyI6WyJub3JtYWxpemVBcnJheU9wdGlvbiIsImFycmF5Iiwiam9pbiIsInNwbGl0IiwicmVkdWNlIiwiYWNjIiwidmFsdWUiLCJmaWx0ZXIiLCJCb29sZWFuIiwiaXNUcnVlTnVtYmVyIiwiTnVtYmVyIiwiaXNOYU4iLCJ0b1ByaW1pdGl2ZSIsInN0cmluZ1ZhbHVlIiwiU3RyaW5nIiwidW5kZWZpbmVkIiwiT2JqZWN0IiwiZW50cmllcyIsImsiLCJ2IiwiY29uc3RydWN0b3IiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQU8sU0FBU0Esb0JBQVQsQ0FBOEJDLEtBQUssR0FBRyxFQUF0QyxFQUEwQztBQUNoRCxTQUFPQSxLQUFLLENBQ1ZDLElBREssQ0FDQSxHQURBLEVBRUxDLEtBRkssQ0FFQyxHQUZELEVBR0xDLE1BSEssQ0FHRSxDQUFDQyxHQUFELEVBQU1DLEtBQU4sS0FBZ0IsQ0FBQyxHQUFHRCxHQUFKLEVBQVMsR0FBR0MsS0FBSyxDQUFDSCxLQUFOLENBQVksTUFBWixDQUFaLENBSGxCLEVBR29ELEVBSHBELEVBSUxJLE1BSkssQ0FJRUMsT0FKRixDQUFQO0FBS0E7O0FBRUQsU0FBU0MsWUFBVCxDQUFzQkgsS0FBdEIsRUFBNkI7QUFDNUIsU0FDQ0UsT0FBTyxDQUFFRixLQUFLLElBQUksT0FBT0EsS0FBUCxLQUFpQixRQUEzQixJQUF3QyxPQUFPQSxLQUFQLEtBQWlCLFFBQTFELENBQVAsSUFDQSxDQUFDSSxNQUFNLENBQUNDLEtBQVAsQ0FBYUQsTUFBTSxDQUFDSixLQUFELENBQW5CLENBRkY7QUFJQTs7QUFFTSxTQUFTTSxXQUFULENBQXFCTixLQUFyQixFQUE0QjtBQUNsQyxRQUFNTyxXQUFXLEdBQUdDLE1BQU0sQ0FBQ1IsS0FBRCxDQUExQjs7QUFDQSxVQUFRLElBQVI7QUFDQyxTQUFLTyxXQUFXLEtBQUssTUFBckI7QUFDQyxhQUFPLElBQVA7O0FBQ0QsU0FBS0EsV0FBVyxLQUFLLFdBQXJCO0FBQ0MsYUFBT0UsU0FBUDs7QUFDRCxTQUFLRixXQUFXLEtBQUssTUFBckI7QUFDQSxTQUFLQSxXQUFXLEtBQUssT0FBckI7QUFDQyxhQUFPQSxXQUFXLEtBQUssTUFBdkI7O0FBQ0QsU0FBS0osWUFBWSxDQUFDSSxXQUFELENBQWpCO0FBQ0MsYUFBT0gsTUFBTSxDQUFDSixLQUFELENBQWI7O0FBQ0QsU0FBSyxPQUFPQSxLQUFQLEtBQWlCLFFBQXRCO0FBQ0MsYUFBT1UsTUFBTSxDQUFDQyxPQUFQLENBQWVYLEtBQWYsRUFBc0JGLE1BQXRCLENBQTZCLENBQUNDLEdBQUQsRUFBTSxDQUFDYSxDQUFELEVBQUlDLENBQUosQ0FBTixLQUFpQjtBQUNwRGQsUUFBQUEsR0FBRyxDQUFDYSxDQUFELENBQUgsR0FBU04sV0FBVyxDQUFDTyxDQUFELENBQXBCO0FBQ0EsZUFBT2QsR0FBUDtBQUNBLE9BSE0sRUFHSixJQUFJQyxLQUFLLENBQUNjLFdBQVYsRUFISSxDQUFQOztBQUlEO0FBQ0MsYUFBT2QsS0FBUDtBQWhCRjtBQWtCQSIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVBcnJheU9wdGlvbihhcnJheSA9IFtdKSB7XG5cdHJldHVybiBhcnJheVxuXHRcdC5qb2luKCcsJylcblx0XHQuc3BsaXQoJywnKVxuXHRcdC5yZWR1Y2UoKGFjYywgdmFsdWUpID0+IFsuLi5hY2MsIC4uLnZhbHVlLnNwbGl0KC8sXFxzPy8pXSwgW10pXG5cdFx0LmZpbHRlcihCb29sZWFuKTtcbn1cblxuZnVuY3Rpb24gaXNUcnVlTnVtYmVyKHZhbHVlKSB7XG5cdHJldHVybiAoXG5cdFx0Qm9vbGVhbigodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykgfHwgdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykgJiZcblx0XHQhTnVtYmVyLmlzTmFOKE51bWJlcih2YWx1ZSkpXG5cdCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b1ByaW1pdGl2ZSh2YWx1ZSkge1xuXHRjb25zdCBzdHJpbmdWYWx1ZSA9IFN0cmluZyh2YWx1ZSk7XG5cdHN3aXRjaCAodHJ1ZSkge1xuXHRcdGNhc2Ugc3RyaW5nVmFsdWUgPT09ICdudWxsJzpcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdGNhc2Ugc3RyaW5nVmFsdWUgPT09ICd1bmRlZmluZWQnOlxuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHRjYXNlIHN0cmluZ1ZhbHVlID09PSAndHJ1ZSc6XG5cdFx0Y2FzZSBzdHJpbmdWYWx1ZSA9PT0gJ2ZhbHNlJzpcblx0XHRcdHJldHVybiBzdHJpbmdWYWx1ZSA9PT0gJ3RydWUnO1xuXHRcdGNhc2UgaXNUcnVlTnVtYmVyKHN0cmluZ1ZhbHVlKTpcblx0XHRcdHJldHVybiBOdW1iZXIodmFsdWUpO1xuXHRcdGNhc2UgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jzpcblx0XHRcdHJldHVybiBPYmplY3QuZW50cmllcyh2YWx1ZSkucmVkdWNlKChhY2MsIFtrLCB2XSkgPT4ge1xuXHRcdFx0XHRhY2Nba10gPSB0b1ByaW1pdGl2ZSh2KTtcblx0XHRcdFx0cmV0dXJuIGFjYztcblx0XHRcdH0sIG5ldyB2YWx1ZS5jb25zdHJ1Y3RvcigpKTtcblx0XHRkZWZhdWx0OlxuXHRcdFx0cmV0dXJuIHZhbHVlO1xuXHR9XG59XG4iXX0=